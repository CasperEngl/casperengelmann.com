---
const navLinks = [
  { href: '#about', label: 'About' },
  { href: '#focus', label: 'Focus' },
  { href: '#experience', label: 'Experience' },
  { href: '#projects', label: 'Projects' },
  { href: '#contact', label: 'Contact' },
]
---

<header
  class="fixed top-0 left-0 right-0 z-50 backdrop-blur-md bg-white/80 dark:bg-black/80 border-b border-black/10 dark:border-white/10"
>
  <nav class="max-w-4xl mx-auto px-6 h-16 flex items-center justify-between">
    <a href="#about" class="text-xl font-medium no-underline hover:opacity-80 transition">
      Casper Engelmann
    </a>

    <!-- Desktop nav -->
    <div class="hidden md:flex gap-1">
      {
        navLinks.map((link) => (
          <a
            href={link.href}
            class="px-3 py-1.5 text-sm rounded bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition no-underline"
          >
            {link.label}
          </a>
        ))
      }
    </div>

    <!-- Mobile menu button -->
    <button
      id="mobile-menu-toggle"
      class="md:hidden p-2 rounded hover:bg-black/10 dark:hover:bg-white/10 transition"
      aria-label="Toggle menu"
      aria-expanded="false"
    >
      <svg
        class="w-6 h-6"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>
  </nav>

  <!-- Mobile menu -->
  <div
    id="mobile-menu"
    class="hidden md:hidden border-t border-black/10 dark:border-white/10 bg-white/95 dark:bg-black/95 backdrop-blur-md"
  >
    <div class="px-6 py-4 flex flex-col gap-2">
      {
        navLinks.map((link) => (
          <a
            href={link.href}
            class="mobile-nav-link px-3 py-2 text-sm rounded bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 transition no-underline"
          >
            {link.label}
          </a>
        ))
      }
    </div>
  </div>
</header>

<script>
  const toggle = document.getElementById('mobile-menu-toggle')
  const menu = document.getElementById('mobile-menu')
  const mobileLinks = document.querySelectorAll('.mobile-nav-link')

  toggle?.addEventListener('click', () => {
    const isExpanded = toggle.getAttribute('aria-expanded') === 'true'
    toggle.setAttribute('aria-expanded', (!isExpanded).toString())
    menu?.classList.toggle('hidden')
  })

  mobileLinks.forEach((link) => {
    link.addEventListener('click', () => {
      toggle?.setAttribute('aria-expanded', 'false')
      menu?.classList.add('hidden')
    })
  })
</script>
